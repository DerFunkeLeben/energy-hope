(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{IhKj:function(t,e,n){"use strict";n.r(e);n("WMMs");const i="dde8a351a7c7874c95d7beab6ee8de9be7c608dc",r="https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",o={REGION:"region",AREA:"area",CITY:"city",SETTLEMENT:"settlement",STREET:"street",HOUSE:"house"};function a(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(i,r)}function s(){var t;return t=function*(t,e,n,o){var a={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+i},body:JSON.stringify({query:t,from_bound:{value:e},to_bound:{value:n},locations:(()=>{const t={};return console.log(o),o&&(o.region.isReady&&(t.region_fias_id=o.region.id),o.area.isReady&&(t.area_fias_id=o.area.id),o.street.isReady&&(t.street_fias_id=o.street.id),o.settlement.isReady&&o.city.isReady?(t.settlement_fias_id=o.settlement.id,t.city_fias_id=o.city.id):!o.city.isReady&&o.settlement.isReady?(t.settlement_fias_id=o.settlement.id,t.city_fias_id=null):o.city.isReady&&!o.settlement.isReady&&(t.settlement_fias_id=null,t.city_fias_id=o.city.id)),console.log(t),Object.keys(t).length?[t]:null})(),restrict_value:!0})};try{const t=yield fetch(r,a);return yield t.json()}catch(s){console.error(s)}},(s=function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function s(t){a(o,i,r,s,u,"next",t)}function u(t){a(o,i,r,s,u,"throw",t)}s(void 0)})}).apply(this,arguments)}var u=function(t,e,n,i){return s.apply(this,arguments)};var c=function(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return function(){clearTimeout(e),e=setTimeout(()=>t.apply(this,arguments),n)}};function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(u){s=!0,r=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function y(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(i,r)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(t){y(o,i,r,a,s,"next",t)}function s(t){y(o,i,r,a,s,"throw",t)}a(void 0)})}}function p(){return(p=f(function*(){!function(t){const e=document.querySelector(".fias_data"),n=document.querySelector(".summary_container"),i=document.querySelector(".summary_text");e.classList.add("active"),n.classList.add("active"),e.textContent="",i.innerHTML="\u041f\u043e \u044d\u0442\u043e\u043c\u0443 \u0430\u0434\u0440\u0435\u0441\u0443 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u0424\u0418\u0410\u0421: ".concat(t.length>=10?">10":t.length," <br> ").concat(0!==t.length?"\u041d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0442\u043e\u0447\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c:":""),Object.entries(t[0].data).map(t=>{const n=l(t,2),i=n[0],r=n[1];r&&(e.innerHTML+="".concat(i,": ").concat(r,"<br>"))})}(yield E())})).apply(this,arguments)}function E(){return v.apply(this,arguments)}function v(){return(v=f(function*(){const t={[o.REGION]:document.querySelector("#region").value,[o.AREA]:document.querySelector("#area").value,[o.SETTLEMENT]:document.querySelector("#settlement").value,[o.STREET]:document.querySelector("#street").value,[o.HOUSE]:document.querySelector("#house").value},e=Object.values(t).join(" ");return(yield u(e,o.REGION,o.HOUSE)).suggestions})).apply(this,arguments)}document.querySelector(".btn_send").addEventListener("click",function(){return p.apply(this,arguments)});var g=E;function m(t,e){return b(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(u){s=!0,r=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(t,e)||_(t,e)||R()}function h(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(i,r)}function T(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(t){h(o,i,r,a,s,"next",t)}function s(t){h(o,i,r,a,s,"throw",t)}a(void 0)})}}function S(t){return b(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_(t)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(t,e){if(t){if("string"===typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,e):void 0}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function b(t){if(Array.isArray(t))return t}const O=document.querySelector(".suggestions__overlay"),I=document.querySelector("#region"),N=document.querySelector("#area"),A=document.querySelector("#settlement"),q=document.querySelector("#street"),w=document.querySelector("#house"),M=document.querySelector("#postal_code"),j=S(document.querySelectorAll(".suggestions")).slice(0),G=S(document.querySelectorAll(".input__data")).slice(0),C=document.querySelector(".suggestions-region"),k=document.querySelector(".suggestions-area"),H=document.querySelector(".suggestions-settlement"),U=document.querySelector(".suggestions-street"),x=document.querySelector(".suggestions-house");let Y;const P={};function J(){return(J=T(function*(t){P[o.REGION].isReady=!1,Y=t.target,D((yield u(this.value,o.REGION,o.REGION)).suggestions,C)})).apply(this,arguments)}function K(){return(K=T(function*(t){if(!P[o.REGION].isReady){const t=yield u(I.value,o.REGION,o.REGION);if(t.suggestions.length){const e=m(t.suggestions,1)[0];P[o.REGION].id=e.data.region_fias_id,P[o.REGION].isReady=!0}}const e=yield u(this.value,o.AREA,o.AREA,P);P[o.AREA].isReady=!1,Y=t.target,D(e.suggestions,k)})).apply(this,arguments)}function W(){return(W=T(function*(t){if(!P[o.REGION].isReady){const t=yield u(I.value+N.value,o.REGION,o.AREA);if(t.suggestions.length){const e=m(t.suggestions,1)[0];P[o.REGION].id=e.data.region_fias_id,P[o.REGION].isReady=!0}}const e=yield u(this.value,o.CITY,o.SETTLEMENT,P);P[o.SETTLEMENT].isReady=!1,P[o.CITY].isReady=!1,Y=t.target,D(e.suggestions.filter(function(t){return"5"!==t.data.fias_level&&"65"!==t.data.fias_level}),H)})).apply(this,arguments)}function $(){return($=T(function*(t){if(P[o.STREET].isReady=!1,Y=t.target,!P[o.REGION].isReady||!P[o.SETTLEMENT].isReady&&!P[o.CITY].isReady)return;D((yield u(this.value,o.STREET,o.STREET,P)).suggestions,U)})).apply(this,arguments)}function z(){return(z=T(function*(t){if(!P[o.REGION].isReady||!P[o.STREET].isReady||!P[o.SETTLEMENT].isReady&&!P[o.CITY].isReady)return;const e=yield u(this.value,o.HOUSE,o.HOUSE,P);P[o.HOUSE].isReady=!1,Y=t.target,D(e.suggestions,x)})).apply(this,arguments)}function B(){return(B=T(function*(){const t=yield g();if(!t)return;const e=t[0].data.postal_code;M.value=e||""})).apply(this,arguments)}function D(t,e){const n=t.map(t=>{if(Y.id===o.SETTLEMENT){const e=t.data;return[e.city_with_type,e.settlement_with_type].join(" ")}return Y.id===o.HOUSE?t.value:t.data["".concat(Y.id,"_with_type")]});e.classList.add("active"),O.classList.add("active"),e.innerHTML="",[...new Set(n)].map((n,i)=>(function(e,n,i){const r=document.createElement("div");if(r.classList.add("suggestion__option"),Y.id===o.SETTLEMENT){const e=t[i].data.city_fias_id,n=t[i].data.settlement_fias_id,o=e||"null",a=n||"null";r.id=[o,a].join("__")}else{const e=t[i].data["".concat(Y.id,"_fias_id")];r.id=e}"null"!==r.id&&(r.textContent=n,e.append(r))})(e,n,i))}function F(t){if(!t.target.classList.contains("suggestion__option"))return;const e=t.target.textContent;if(Y.value=e,P[Y.id].isReady=!0,P[Y.id].id=t.target.id,Y.id===o.SETTLEMENT){const e=m(t.target.id.split("__"),2),n=e[0],i=e[1];P[o.CITY].id=n,P[o.CITY].isReady=!0,P[o.SETTLEMENT].id=i,P[o.SETTLEMENT].isReady=!0,"null"===n&&(P[o.CITY].id="",P[o.CITY].isReady=!1),"null"===i&&(P[o.SETTLEMENT].id="",P[o.SETTLEMENT].isReady=!1)}Y.id===o.HOUSE&&function(){B.apply(this,arguments)}(),Q()}function Q(){j.map(t=>t.classList.remove("active")),O.classList.remove("active")}Object.values(o).map(t=>P[t]={id:"",isReady:!1}),I.addEventListener("input",c(function(t){return J.apply(this,arguments)})),N.addEventListener("input",c(function(t){return K.apply(this,arguments)})),A.addEventListener("input",c(function(t){return W.apply(this,arguments)})),q.addEventListener("input",c(function(t){return $.apply(this,arguments)})),w.addEventListener("input",c(function(t){return z.apply(this,arguments)})),C.addEventListener("click",F),k.addEventListener("click",F),H.addEventListener("click",F),U.addEventListener("click",F),x.addEventListener("click",F),O.addEventListener("click",Q),G.map(t=>t.addEventListener("click",t=>{Y&&t.target.id===Y.id||Q()}))},WMMs:function(t,e,n){}},[["IhKj",1]]]);