(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{IhKj:function(t,e,n){"use strict";n.r(e);n("WMMs");const i="dde8a351a7c7874c95d7beab6ee8de9be7c608dc",r="https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",o={REGION:"region",AREA:"area",CITY:"city",SETTLEMENT:"settlement",STREET:"street",HOUSE:"house"};function s(t,e,n,i,r,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(i,r)}function a(){var t;return t=function*(t,e,n,o){var s={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+i},body:JSON.stringify({query:t,from_bound:{value:e},to_bound:{value:n},locations:(()=>{const t={};return console.log(o),o&&(o.region.isReady&&(t.region_fias_id=o.region.id),o.area.isReady&&(t.area_fias_id=o.area.id),o.street.isReady&&(t.street_fias_id=o.street.id),o.settlement.isReady&&o.city.isReady?(t.settlement_fias_id=o.settlement.id,t.city_fias_id=o.city.id):!o.city.isReady&&o.settlement.isReady?(t.settlement_fias_id=o.settlement.id,t.city_fias_id=null):o.city.isReady&&!o.settlement.isReady&&(t.settlement_fias_id=null,t.city_fias_id=o.city.id)),Object.keys(t).length?[t]:null})(),restrict_value:!0})};try{const t=yield fetch(r,s);return yield t.json()}catch(a){console.error(a)}},(a=function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(t){s(o,i,r,a,u,"next",t)}function u(t){s(o,i,r,a,u,"throw",t)}a(void 0)})}).apply(this,arguments)}var u=function(t,e,n,i){return a.apply(this,arguments)};var c=function(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return function(){clearTimeout(e),e=setTimeout(()=>t.apply(this,arguments),n)}};function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,r,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);s=!0);}catch(u){a=!0,r=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function y(t,e,n,i,r,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(i,r)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function s(t){y(o,i,r,s,a,"next",t)}function a(t){y(o,i,r,s,a,"throw",t)}s(void 0)})}}function p(){return(p=f(function*(){!function(t){const e=document.querySelector(".fias_data"),n=document.querySelector(".summary_container"),i=document.querySelector(".summary_text");e.classList.add("active"),n.classList.add("active"),e.textContent="",i.innerHTML="\u041f\u043e \u044d\u0442\u043e\u043c\u0443 \u0430\u0434\u0440\u0435\u0441\u0443 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u0424\u0418\u0410\u0421: ".concat(t.length>=10?">10":t.length," <br> ").concat(0!==t.length?"\u041d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0442\u043e\u0447\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c:":""),Object.entries(t[0].data).map(t=>{const n=l(t,2),i=n[0],r=n[1];r&&(e.innerHTML+="".concat(i,": ").concat(r,"<br>"))})}(yield E())})).apply(this,arguments)}function E(){return g.apply(this,arguments)}function g(){return(g=f(function*(){const t={[o.REGION]:document.querySelector("#region").value,[o.AREA]:document.querySelector("#area").value,[o.SETTLEMENT]:document.querySelector("#settlement").value,[o.STREET]:document.querySelector("#street").value,[o.HOUSE]:document.querySelector("#house").value},e=Object.values(t).join(" ");return(yield u(e,o.REGION,o.HOUSE)).suggestions})).apply(this,arguments)}document.querySelector(".btn_send").addEventListener("click",function(){return p.apply(this,arguments)});var h=E;function v(t,e){return b(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,r,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);s=!0);}catch(u){a=!0,r=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}(t,e)||R(t,e)||_()}function m(t,e,n,i,r,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(i,r)}function T(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function s(t){m(o,i,r,s,a,"next",t)}function a(t){m(o,i,r,s,a,"throw",t)}s(void 0)})}}function S(t){return b(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||R(t)||_()}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(t,e){if(t){if("string"===typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,e):void 0}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function b(t){if(Array.isArray(t))return t}const O=document.querySelector(".suggestions__overlay"),I=document.querySelector("#region"),A=document.querySelector("#area"),N=document.querySelector("#settlement"),w=document.querySelector("#street"),q=document.querySelector("#house"),M=document.querySelector("#postal_code"),j=S(document.querySelectorAll(".suggestions")).slice(0),G=S(document.querySelectorAll(".input__data")).slice(0),C=document.querySelector(".suggestions-region"),k=document.querySelector(".suggestions-area"),H=document.querySelector(".suggestions-settlement"),U=document.querySelector(".suggestions-street"),x=document.querySelector(".suggestions-house");let Y;const P={};function J(t){return K.apply(this,arguments)}function K(){return(K=T(function*(t){return yield u(t,o.REGION,o.REGION)})).apply(this,arguments)}function W(t){return $.apply(this,arguments)}function $(){return($=T(function*(t){return yield u(t,o.AREA,o.AREA,P)})).apply(this,arguments)}function z(t){return B.apply(this,arguments)}function B(){return(B=T(function*(t){return yield u(t,o.CITY,o.SETTLEMENT,P)})).apply(this,arguments)}function D(t){return F.apply(this,arguments)}function F(){return(F=T(function*(t){return yield u(t,o.STREET,o.STREET,P)})).apply(this,arguments)}function Q(t){return V.apply(this,arguments)}function V(){return(V=T(function*(t){return yield u(t,o.HOUSE,o.HOUSE,P)})).apply(this,arguments)}function X(){return(X=T(function*(t){P[o.REGION].isReady=!1,Y=t.target,rt((yield J(this.value)).suggestions,C)})).apply(this,arguments)}function Z(){return(Z=T(function*(t){if(!P[o.REGION].isReady){const t=yield J(I.value);if(t.suggestions.length){const e=v(t.suggestions,1)[0];P[o.REGION].id=e.data.region_fias_id,P[o.REGION].isReady=!0}}const e=yield W(this.value);P[o.AREA].isReady=!1,Y=t.target,rt(e.suggestions,k)})).apply(this,arguments)}function tt(){return(tt=T(function*(t){if(!P[o.REGION].isReady){const t=yield u(I.value+A.value,o.REGION,o.AREA);if(t.suggestions.length){const e=v(t.suggestions,1)[0];P[o.REGION].id=e.data.region_fias_id,P[o.REGION].isReady=!0}}const e=yield z(this.value);P[o.SETTLEMENT].isReady=!1,P[o.CITY].isReady=!1,Y=t.target,rt(e.suggestions.filter(function(t){return"5"!==t.data.fias_level&&"65"!==t.data.fias_level}),H)})).apply(this,arguments)}function et(){return(et=T(function*(t){if(P[o.STREET].isReady=!1,Y=t.target,!P[o.REGION].isReady||!P[o.SETTLEMENT].isReady&&!P[o.CITY].isReady)return;rt((yield D(this.value)).suggestions,U)})).apply(this,arguments)}function nt(){return(nt=T(function*(t){if(!P[o.REGION].isReady||!P[o.STREET].isReady||!P[o.SETTLEMENT].isReady&&!P[o.CITY].isReady)return;const e=yield Q(this.value);P[o.HOUSE].isReady=!1,Y=t.target,rt(e.suggestions,x)})).apply(this,arguments)}function it(){return(it=T(function*(){const t=yield h();if(!t)return;const e=t[0].data.postal_code;M.value=e||""})).apply(this,arguments)}function rt(t,e){const n=t.map(t=>{if(Y.id===o.SETTLEMENT){const e=t.data;return[e.city_with_type,e.settlement_with_type].join(" ")}return Y.id===o.HOUSE?t.value:t.data["".concat(Y.id,"_with_type")]});e.classList.add("active"),O.classList.add("active"),e.innerHTML="",[...new Set(n)].map((n,i)=>(function(e,n,i){const r=document.createElement("div");if(r.classList.add("suggestion__option"),Y.id===o.SETTLEMENT){const e=t[i].data.city_fias_id,n=t[i].data.settlement_fias_id,o=e||"null",s=n||"null";r.id=[o,s].join("__")}else{const e=t[i].data["".concat(Y.id,"_fias_id")];r.id=e}"null"!==r.id&&(r.textContent=n,e.append(r))})(e,n,i))}function ot(t){return st.apply(this,arguments)}function st(){return(st=T(function*(t){if(!t.target.classList.contains("suggestion__option"))return;const e=t.target.textContent;Y.value=e,P[Y.id].isReady=!0;const n=function(t){switch(t){case o.REGION:return J;case o.AREA:return W;case o.SETTLEMENT:return z;case o.STREET:return D;case o.HOUSE:return Q}}(Y.id),i=yield n(e);try{const e=i.suggestions[0].data["".concat(Y.id,"_fias_id")];P[Y.id].id=e}catch(r){P[Y.id].id=t.target.id}if(console.log(i),Y.id===o.SETTLEMENT){let e=v(t.target.id.split("__"),2),n=e[0],s=e[1];try{s=i.suggestions[0].data.settlement_fias_id,n=i.suggestions[0].data.city_fias_id}catch(r){console.log(r)}P[o.CITY].id=n,P[o.CITY].isReady=!0,P[o.SETTLEMENT].id=s,P[o.SETTLEMENT].isReady=!0,"null"===n&&(P[o.CITY].id="",P[o.CITY].isReady=!1),"null"===s&&(P[o.SETTLEMENT].id="",P[o.SETTLEMENT].isReady=!1)}Y.id===o.HOUSE&&function(){it.apply(this,arguments)}(),at()})).apply(this,arguments)}function at(){j.map(t=>t.classList.remove("active")),O.classList.remove("active")}Object.values(o).map(t=>P[t]={id:"",isReady:!1}),I.addEventListener("input",c(function(t){return X.apply(this,arguments)})),A.addEventListener("input",c(function(t){return Z.apply(this,arguments)})),N.addEventListener("input",c(function(t){return tt.apply(this,arguments)})),w.addEventListener("input",c(function(t){return et.apply(this,arguments)})),q.addEventListener("input",c(function(t){return nt.apply(this,arguments)})),C.addEventListener("click",ot),k.addEventListener("click",ot),H.addEventListener("click",ot),U.addEventListener("click",ot),x.addEventListener("click",ot),O.addEventListener("click",at),G.map(t=>t.addEventListener("click",t=>{Y&&t.target.id===Y.id||at()}))},WMMs:function(t,e,n){}},[["IhKj",1]]]);